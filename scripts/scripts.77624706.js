"use strict";angular.module("recetasApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngSanitize","ngTouch","ui.router","firebase","angularLazyImg"]).run(["Authentication",function(a){angular.element(document).ready(function(){a.requireAuth()})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("inicio",{url:"/inicio",templateUrl:"views/inicio.html",controller:"InicioCtrl"}).state("privado",{url:"/privado",templateUrl:"views/privado.html",controller:"PrivadoCtrl",resolve:{currentAuth:["Authentication",function(a){return a.requireAuth()}]}}),b.otherwise("/inicio")}]),angular.module("recetasApp").controller("InicioCtrl",["Authentication","$scope",function(a,b){$(".button-collapse").sideNav("hide"),b.userRegister=function(b){a.registrarse(b)},b.userLogout=function(){a.logout()},b.userLogin=function(b){a.login(b,function(a){$("#ingresar").modal("close")})},$(document).ready(function(){$(".modal").modal()})}]),angular.module("recetasApp").controller("PrivadoCtrl",function(){$(".button-collapse").sideNav("hide"),$(document).ready(function(){$("ul.tabs").tabs()})}),angular.module("recetasApp").factory("Authentication",["firebase","$rootScope","$timeout","$location","$firebaseObject",function(a,b,c,d,e){var f={apiKey:"AIzaSyCcUCRA3ae4PjQ4olgDqhO-WpwKGh8hr7I",authDomain:"resetasapp.firebaseapp.com",databaseURL:"https://resetasapp.firebaseio.com",storageBucket:"resetasapp.appspot.com",messagingSenderId:"642728759157"},g=a.initializeApp(f),h=g.auth(),i=g.database(),j=(a.storage(),function(){h.onAuthStateChanged(function(a){if(a){var c=i.ref("usuarios/"+a.uid),f=e(c);f.$loaded().then(function(){b.USUARIO=f,$(".se-pre-con").fadeOut("slow")})["catch"](function(a){console.log(a)})}else b.USUARIO="",d.path("/"),$(".se-pre-con").fadeOut("slow")})});return{registrarse:function(b){h.createUserWithEmailAndPassword(b.email,b.password).then(function(c){i.ref("usuarios").child(c.uid).set({nombre:b.nombre,apellido:b.apellido,email:b.email,id:c.uid,date:a.database.ServerValue.TIMESTAMP,status:1}),Materialize.toast("Bienvenido!!!",4e3,"green lighten-1"),$("#registrarse").modal("close")})["catch"](function(a){console.log(a),Materialize.toast(a.message,4e3,"red lighten-1")})},logout:function(){h.signOut().then(function(){},function(a){console.log(a)})},login:function(a,b){h.signInWithEmailAndPassword(a.email,a.password).then(function(){var a="entramos";return b(a)})["catch"](function(a){console.log(a),Materialize.toast(a.message,4e3,"red lighten-1")})},requireAuth:function(){j()}}}]),angular.module("recetasApp").run(["$templateCache",function(a){a.put("views/inicio.html",'<div class="row" style="margin-top:7px"> <div class="col s12 m4 l3"> <div class="card hoverable"> <div class="card-image"> <img src="images/spinner.80918422.gif" lazy-img="http://s3.amazonaws.com/etntmedia/media/images/ext/446341906/fast-food-burger-fries.jpg"> <span class="card-title">Card Title</span> </div> <div class="card-content"> <p>I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.</p> </div> <ul class="collection" style="border-right: none; border-left: none; border-bottom: none; margin:0"> <li class="collection-item avatar"> <img src="images/spinner.80918422.gif" lazy-img="http://labs.plantbio.cornell.edu/rose/images/thumbnails/joss100_bw.jpg" alt="" class="circle"> <span class="title">Alam Broski</span> <p> 21 noviembre 2016 <br> Cocinero amateur. </p> </li> </ul> <div class="card-action"> <a href="#">Ver reseta.</a> </div> <div class="card-action"> <a href="#"> <i class="material-icons">star_border</i> </a> <a href="#"> <i class="material-icons">favorite_border</i> </a> <a href="#"> <i class="material-icons">share</i> </a> </div> </div> </div> </div>'),a.put("views/privado.html",'<div class="container" style="margin-top:7px"> <div class="row"> <div class="col s12"> <ul class="tabs"> <li class="tab col s6"><a class="active" href="#resetas">Resetas</a></li> <li class="tab col s6"><a href="#perfil">Perfil</a></li> </ul> </div> <div id="resetas" class="col s12"> <div class="col s12"> <h4>Crear reseta</h4> <form> <div class="col s8"> <div class="input-field"> <i class="material-icons prefix">content_paste</i> <input id="reseta" type="text" class="validate"> <label for="reseta">Crear una reseta</label> </div> </div> <div class="col s4" style="padding-top:20px"> <button class="btn waves-effect waves-light" type="submit" style="width:100%">Crear <i class="material-icons right">add</i> </button> </div> </form> </div> <div class="col s12"> <h4>Mis resetas</h4> </div> </div> <div id="perfil" class="col s12"> <div class="input-field"> <input id="nobreUsuario" type="text" ng-model="USUARIO.nombre" ng-change="USUARIO.$save()"> </div> </div> </div> </div>')}]);